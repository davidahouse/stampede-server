extends ../layout
include ../components/titleBar
include ../components/tableHeader
include ../components/tableCell
include ../components/tableRow
include ../components/tableCellButton
include ../components/formFile
include ../components/formHidden

block content

  +titleBar([{title: 'Repositories', href: '/repositories'},
  {title: owner + ' ' + repository}])
  div(class="flex flex-wrap m-4")

    div(class="w-full p-3")
      div(class="w-full p-3")
        div(class="bg-white border-transparent rounded-lg shadow-lg")
            div(class="bg-gray-400 uppercase text-gray-800 border-b-2 border-gray-500 rounded-tl-lg rounded-tr-lg p-2")
                h5(class="font-bold uppercase text-gray-600") Cached repository config
            div(class="p-5")
                pre= repoConfig

                form(class="w-full m-4" method="GET" action="/repositories/toggleConfigSource" encType="multipart/form-data")
                    div(class="w-1/2 px-3 mb-6 md:mb-0")
                        +formHidden("owner", owner)
                        +formHidden("repository", repository)
                        +formHidden("configSource", configSource)
                        button(class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded") Remove from cache
